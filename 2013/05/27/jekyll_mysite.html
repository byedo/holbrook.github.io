<!DOCTYPE html>
<html>
  <head>
    <!-- meta information -->
<meta charset="utf-8">
<meta name="description" 
      content="早在2012年8月，就通过[这篇文章](http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html)知道了Jekyll,  但是一直没有去尝试。直到最近静下心来，才..." >
<meta name="author" content="Holbrook(wanghaikuo@gmail.com)">

<!-- Enable responsiveness on mobile devices-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<!-- title -->
<title>Jekyll建站过程 &middot; 心内求法</title>

<!-- icons -->
<link rel="shortcut icon" href="/public/images/favicon.png" />

<!-- stylesheets -->
<link rel="stylesheet" href="/public/css/syntax.css">
<link rel="stylesheet" href="/public/css/responsive.gs.12col.css">
<link rel="stylesheet" href="/public/css/animate.min.css">
<link rel="stylesheet" href="/public/css/main.css">

<!-- Google fonts -->
<link rel="stylesheet" href="/public/css/googleapis.css">


<!-- font Awesome -->
<link href="/public/css/font-awesome.css" rel="stylesheet">


<!-- feed links -->
<link rel="alternate" href="http://thinkinside.tk/feed.xml" type="application/rss+xml" title="">

  </head>
  <body>
    <div class="container">
      <header class="top row gutters">
        <div class="col span_2" id="logo-container">
          <a href="/" id="actual-logo" title="心内求法" style="background-image: url(/public/images/logo.png);"></a>
        </div>
        <nav class="col span_10">
	
  
  <a href="/index.html" title="首页"
     >首页</a>
  
  
  <a href="/pages/archive.html" title="归档"
     >归档</a>
  
  
  <a href="/pages/categories.html" title="分类"
     >分类</a>
  
  
  <a href="/pages/tags.html" title="标签"
     >标签</a>
  
  
  <a href="/feed.xml" title="订阅"
     >订阅</a>
  
  
  <a href="http://www.wumii.com/auto_app/download/nbn2Kljo" title="手机版"
     >手机版</a>
  
</nav>

      </header>

      <style>
.top_line {
  border-top: 1px solid #b3b3b3;
  border-top-width: 1px;
  border-top-style: solid;
  border-top-color: rgb(179, 179, 179);
}

.bottom_line {
  border-bottom: 1px solid #b3b3b3;
  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: rgb(179, 179, 179);
}

</style>

<article class="single-post row gutters bottom_line">
  <div class="bottom_line">
  <h1 style="font-size: 2em;">Jekyll建站过程</h1>
  <p>摘要：<br/>本站建立过程中的一些经验，不断完善中...</p>

  <time class="published" datetime="2013-05-27">2013-05-27
  
&sdot; 分类：
  
    <a href="/pages/categories.html#杂七杂八-ref">杂七杂八</a>
    <sup>4</sup>
    &nbsp;
  

  &sdot; 标签： 
  
    <a href="/pages/tags.html#jekyll-ref">jekyll</a>
    <sup>6</sup>
    &nbsp;
  
    <a href="/pages/tags.html#github-ref">github</a>
    <sup>6</sup>
    &nbsp;
  

  </time>
</div>

  

  <p>早在2012年8月，就通过<a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html">这篇文章</a>知道了Jekyll,  但是一直没有去尝试。</p>

<p>直到最近静下心来，才发现使用Jekyll 搭建博客非常简单。当然，上手简单，想用好并不容易。</p>

<p>本文记录在使用Jekyll搭建博客过程中的一些过程和经验，并持续完善和改进。</p>

<p>本文分成3个部分：</p>

<ul>
<li>基础篇：最简单、最快速的使用Jekyll</li>
<li>进阶篇：一些个性化定制的选项</li>
<li>推广篇：博客推广的一些手段和方法</li>
</ul>


<h1>基础篇</h1>

<h2>关于Jekyll</h2>

<p><img src="/images/posts/tools/jekyll_mysite/jekyll.jpg" alt="Jekyll" /></p>

<p>已经有太多的文章介绍了<a href="http://jekyllrb.com/">Jekyll</a>(/'dʒiːk əl/)。
简单的说，Jekyll是用ruby语言实现的一个静态网站生成器，可以将<a href="https://help.github.com/articles/my-custom-domain-isn-t-working">Markdown</a> (或者<a href="http://textile.sitemonks.com/">Textile</a>)编辑的文档生成html。
当然也可以用来生成博客。
我使用Markdown标记语言，其语法可以参考<a href="http://wowubuntu.com/markdown">这里</a>。</p>

<p>Jekyll支持<a href="http://wiki.shopify.com/Liquid">Liquid</a>模板语言，写文档时的感觉很像是在写Django模板。Jekyll定义了一些<a href="http://jekyllrb.com/docs/variables/">内置的变量</a>，包括全局变量、页面变量等。
<a href="http://jekyllrb.com/docs/frontmatter/">在文档中可以设置页面变量的值</a>。</p>

<p>与RoR类似，Jekyll也可以通过插件来增加额外的功能。</p>

<h2>关于github Pages</h2>

<p><a href="https://github.com/">github</a>是程序员的facebook。<a href="http://pages.github.com/">github Pages</a>是github提供的静态网页托管。可以为用户或者项目创建站点。
有意思的是，github Pages对于上传的静态文件会通过Jekyll进行处理后再发布出来。</p>

<p>于是，一些”不务正业“的程序员就开始使用github Pages建立博客，现在这股风潮已经愈演愈烈，一些程序员聚集的博客站点可能要小心应对了。</p>

<h2>使用github Pages写博客的好处</h2>

<p>为什么说”一些程序员聚集的博客站点可能要小心应对了“呢？ 因为github Pages简直是为程序员量身定制的博客系统。
（当然，估计也只有程序员会愿意折腾这些事情）。</p>

<p>对我来说，使用github Pages写博客的好处主要体现在以下方面：
1. 自由，随意定制
2. 方便，在github上托管
3. 可控，有版本管理
4. 直接，只需提交，不需要先导出再提交，让人愿意持续更新文章
5. 高效，使用markdown语言能提高写作的效率（但是个人觉得不如org-mode)
6. 免费，无限流量，无限空间</p>

<h2>关于Jekyll Bootstrap</h2>

<p><a href="http://jekyllbootstrap.com/">jekyll-bootstrap</a>是用Jekyll建立博客的一套模板，提供了主题（themes)、评论、。。等功能，</p>

<p>对于Jekyll的初学者能提供很大的帮助，其网站上号称“基于GitHub Pages建博客的最快方式”，可以“用3分钟就建立一个博客”。</p>

<h2>3分钟建立博客</h2>

<p>让我们看看上述工具的组合如何用3分钟建立博客。假设你已经有git的基础，在github上托管过项目。并且使用的不是windows。</p>

<pre><code># 检查ruby版本
ruby -v
#更换更快的gem源，可选
gem sources --remove http://rubygems.org/
gem sources -a http://ruby.taobao.org/
gem sources -l

#如果不是1.9.3+，需要升级到1.9.3
bash &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer )
source ~/.bashrc

rvm install 1.9.3
# 安装jekyll, 并使用rdiscount作为markdown解析器
sudo gem install jekyll
gem install rdiscount

# 使用Jekyll-Bootstrap，其实就是一个复制的过程。下面的USERNAME代表你在github上的用户名
git clone https://github.com/plusjade/jekyll-bootstrap.git USERNAME.github.com


# 使用GitHub Pages的账户主页建立博客，必须使用如下形式的项目名称并使用主分支
# 如果使用项目主页，必须使用项目的gh-pages分支
cd USERNAME.github.com
git remote set-url origin git@github.com:USERNAME/USERNAME.github.com.git
git push origin master

好了，等上几分钟，你的主页就发布在了https://USERNAME.github.com。
</code></pre>

<h2>其他操作</h2>

<h3>jekyll命令</h3>

<p>安装jekyll会产生一个命令行工具：jekyll，提供以下功能：</p>

<pre><code>build                Build your site                
doctor               Search site and print specific deprecation warnings            
help                 Display global or [command] help documentation.                        
import               Import your old blog to Jekyll         
new                  Creates a new Jekyll site scaffold in PATH             
serve                Serve your site locally 
</code></pre>

<h3>Rakefile</h3>

<p>Jekyll-Bootstrap提供了一个Rakefile（ruby的makefile），包含一些博客相关的任务（task），包括：</p>

<pre><code>$ rake -T
rake page           # Create a new page.
rake post           # Begin a new post in ./_posts
rake preview        # Launch preview environment
rake theme:install  # Install theme
rake theme:package  # Package theme
rake theme:switch   # Switch between Jekyll-bootstrap themes.
</code></pre>

<h1>进阶篇</h1>

<h2>放弃Jekyll bootstrap</h2>

<p>Jekyll bootstrap确实能带来一些变量，但是和RoR一样，充满了各种puzzle。
更加让中国人不爽的是，作者将其缩写定义为“JB”。</p>

<p>经过初步的尝试后，我决定放弃JB，也不想尝试<a href="http://octopress.org/">Octopress</a>。我的选择是用原生的Jekyll来构建博客，让一切都在掌控之中。</p>

<h2>Jekyll的目录结构</h2>

<p>使用Jekyll创建一个干净的站点：</p>

<pre><code>$ jekyll new clearly
$ tree clearly/
clearly/
├── _config.yml
├── _layouts
│   ├── default.html
│   └── post.html
├── _posts
│   └── 2013-05-29-welcome-to-jekyll.markdown
├── css
│   ├── main.css
│   └── syntax.css
└── index.html
</code></pre>

<p>其中，博客文章放在_posts目录中，可以使用子目录。
博客文章必须使用</p>

<pre><code>YEAR-MONTH-DAY-title.MARKUP
</code></pre>

<p>的形式命名，比如：</p>

<pre><code>2011-12-31-new-years-eve-is-awesome.md
</code></pre>

<p> _layouts目录存放页面模板，其他还可以使用html、css、image等静态资源。</p>

<p>Jekyll会把任何不以下划线开头的文件和目录都复制/生成到网站（在本地是生成到_site/目录)。</p>

<h2>设计模板</h2>

<p>jekyll把_layouts目录中的文档看做是模板，如果某个文档中的头部变量声明中指定了layout：</p>

<pre><code>---
layout: post
...
---
</code></pre>

<p>则Jekyll在生成页面时会使用该模板进行渲染，用文档的内容替换模板中的部分。</p>

<p>模板本身也是文档，所以一个模板也可以用layout变量指定使用一个模板作为布局，这就是模板的继承。</p>

<p>此外，在设计模板时，利用好Liquid语言的include语法能够带来很大的变量。被包含的页面部件需要放在_includes文件夹中。</p>

<p>因为Jekyll生成的是静态站点，可能会需要大量的js以增加动态特性，在设计模板时要遵循<a href="http://dev.opera.com/articles/view/the-seven-rules-of-unobtrusive-javascrip/">Unobtrusive JavaScript原则</a>。</p>

<h2>灵活的导航</h2>

<p>使用静态的导航菜单会带来两个问题：</p>

<ol>
<li>文档过长</li>
<li>“当前项”的高亮不好处理</li>
</ol>


<p>可以在_config.yml中设置一个导航菜单的变量：</p>

<div class="highlight"><pre><code class="yaml">    <span class="l-Scalar-Plain">menuitems</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:          </span><span class="l-Scalar-Plain">首页</span>
      <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">/index.html</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:      </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">分类</span>
      <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">/categories.html</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:      </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">标签</span>
      <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">/tags.html</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:      </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">归档</span>
      <span class="l-Scalar-Plain">url</span><span class="err">:        </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">/archive.html</span><span class="err">          </span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:      </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">读书</span>
      <span class="l-Scalar-Plain">url</span><span class="err">:        </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">/reading.html</span><span class="err">          </span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:      </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">工作</span>
      <span class="l-Scalar-Plain">url</span><span class="err">:        </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">/working.html</span><span class="err">          </span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="err">:      </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">关于</span>
      <span class="l-Scalar-Plain">url</span><span class="err">:        </span><span class="l-Scalar-Plain">  </span><span class="err"> </span><span class="l-Scalar-Plain">/about.html</span><span class="err">    </span>
</code></pre></div>


<p>然后在模板的导航部分可以这样写：</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;nav&quot;</span><span class="nt">&gt;</span>
  {/% for item in site.menuitems %/}
    {/% if item.url == page.url %/}
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="nt">&gt;</span>
    {/% else %/}
    <span class="nt">&lt;li&gt;</span>
    {/% endif %/}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  {/% endfor %/}
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div>


<h2>分类、标签、归档和RSS</h2>

<p>这些都是博客站点必须有的元素。分类、标签和归档可以安装不同的方式检索博客文章；RSS可以订阅博客。</p>

<p>用Jekyll的变量和模板很容易实现这些元素。</p>

<p>注意：不管文件的扩展名是md、html还是xml、txt，只要文件的头部包含变量声明，Jekyll的模板引擎就会对其进行处理。
其中md和html文件都会处理为html，其他类型会保持扩展名。</p>

<p>但如果不是写文档，最好不要使用md，否则会按照markdown语法进行渲染，带来一些意想不到的麻烦。</p>

<p>具体的例子可以参考JB中的代码。</p>

<p>你可能需要对每个分类、每个标签建立单独的索引页面，这个活手工做比较麻烦，可以使用Jekyll插件或者自己写脚本生成文件，
但这不符合“KISS”原则，这里不进行探讨。</p>

<p>对于标签云(tag cloud)，在不使用插件的情况下，可以使用js实现，参考如下代码：</p>

<div class="highlight"><pre><code class="html">    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;tag-cloud&quot;</span><span class="nt">&gt;</span>
       {/% for tag in site.tags %/}
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/pages/tags.html#{/{ tag[0] }/}-ref&quot;</span> <span class="na">id=</span><span class="s">&quot;{/{ forloop.index }/}&quot;</span> <span class="na">class=</span><span class="s">&quot;__tag&quot;</span> <span class="na">style=</span><span class="s">&quot;margin: 5px&quot;</span><span class="nt">&gt;</span>{/{ tag[0] }/}<span class="nt">&lt;/a&gt;</span>
       {/% endfor %/}
    <span class="nt">&lt;/div&gt;</span>
    
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
       <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">minFont</span> <span class="o">=</span> <span class="mf">15.0</span><span class="p">,</span>
              <span class="nx">maxFont</span> <span class="o">=</span> <span class="mf">40.0</span><span class="p">,</span>
              <span class="nx">diffFont</span> <span class="o">=</span> <span class="nx">maxFont</span> <span class="o">-</span> <span class="nx">minFont</span><span class="p">,</span>
              <span class="nx">size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
           
          <span class="p">{</span><span class="sr">/% assign max = 1.0 %/</span><span class="p">}</span>
          <span class="p">{</span><span class="sr">/% for tag in site.tags %/</span><span class="p">}</span>
             <span class="p">{</span><span class="sr">/% if tag[1].size &gt; max %/</span><span class="p">}</span>
                <span class="p">{</span><span class="sr">/% assign max = tag[1].size %/</span><span class="p">}</span>
             <span class="p">{</span><span class="sr">/% endif %/</span><span class="p">}</span>
          <span class="p">{</span><span class="sr">/% endfor %/</span><span class="p">}</span>
                
          <span class="p">{</span><span class="sr">/% for tag in site.tags %/</span><span class="p">}</span>
             <span class="nx">size</span> <span class="o">=</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">()</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">())</span> <span class="o">*</span> <span class="nx">diffFont</span> <span class="o">+</span> <span class="nx">minFont</span><span class="p">;</span>
             <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span> <span class="nx">size</span> <span class="o">+</span> <span class="s2">&quot;px&quot;</span><span class="p">);</span>
          <span class="p">{</span><span class="sr">/% endfor %/</span><span class="p">}</span>
       <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
</code></pre></div>


<p>关于分类和标签的设计，可以参考<a href="http://thinkinside.tk/2012/11/05/blog_design_categories_and_tags.html">这篇文章</a></p>

<h2>分页</h2>

<p>TODO: ajax分页
TODO: 浮动标题 on paginator</p>

<h2>语法高亮</h2>

<p>对于程序员，博客中难免会包含一些代码。实现代码高亮可以有几种方法：</p>

<ul>
<li><p>利用外部资源，比如<a href="https://gist.github.com/">GitHub Gist</a></p>

<p>简单，但是需要使用外部链接或通过js嵌入到页面，不利于文档和代码的统一维护</p></li>
<li><p>使用js在前端渲染，比如<a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a></p>

<p>简单高效，对语言的支持不够多</p></li>
<li><p>使用Jekyll插件，比如调用<a href="http://pygments.org/">pygments</a></p>

<p>推荐方式。支持<a href="http://pygments.org/languages/">100多种语言</a>。</p></li>
</ul>


<p><del>本站采取js的方式。只需要在post的模板中进行配置，就可以为所有博文的代码进行渲染</del></p>

<p><del>Jekyll在编译markdown时，会将符合“代码格式”的内容放到一个&lt; pre>&lt; code></ code>&lt; /pre>标签中。</del>
<del>而prettify提供的js会对html中的所有&lt; pre>&lt; /pre>或&lt; code></ code>区块进行处理，甚至会自动判断使用的语言。</del></p>

<p><del>在post模板的合适位置中增加以下内容：</del></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;/js/google-code-prettify/prettify.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/js/google-code-prettify/prettify.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
     <span class="nx">prettyPrint</span><span class="p">();</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>


<p><del>如果要更改配色方案，只需要修改css文件。</del></p>

<p>本站采用pygments的方式：</p>

<ul>
<li>安装pygments</li>
</ul>


<div class="highlight"><pre><code class="bash">pip install pygments
</code></pre></div>


<ul>
<li>在_config.yml中设置</li>
</ul>


<div class="highlight"><pre><code class="yaml"><span class="l-Scalar-Plain">pygments</span><span class="p-Indicator">:</span>       <span class="l-Scalar-Plain">true</span>
</code></pre></div>


<ul>
<li>在代码的前后增加过滤器：</li>
</ul>


<div class="highlight"><pre><code class="ruby"><span class="lineno">1</span> <span class="p">{</span><span class="o">/</span><span class="sx">% highlight </span><span class="n">ruby</span> <span class="n">linenos</span> <span class="sx">%/}</span>
<span class="lineno">2</span> <span class="sx">def foo</span>
<span class="lineno">3</span> <span class="sx">  puts &#39;foo&#39;</span>
<span class="lineno">4</span> <span class="sx">end</span>
<span class="lineno">5</span> <span class="sx">{/% endhighlight </span><span class="o">%/</span><span class="p">}</span>
</code></pre></div>


<ul>
<li><p>更改样式</p>

<p>从<a href="https://github.com/mojombo/tpw/blob/master/css/syntax.css">这里</a>获取css样例，并自行更改。</p></li>
</ul>


<h2>文档目录(TODO)</h2>

<p>如果写比较长的文章，提供一个类似于developerworks上的文档目录进行导航可以方便阅读。</p>

<h2>使用公式</h2>

<p><a href="http://www.mathjax.org/">MathJax</a> is an open source JavaScript display engine for mathematics that works in all modern browsers.</p>

<p>使用maruku来解析markdown文件，可以把LaTeX解析成图片，</p>

<p>优点是网页加载速度快。但是在windows下安装复杂，且需要安装有LaTeX</p>

<pre><code>    Mathjax  &lt;http://www.mathjax.org/&gt;，缺点是动态加载，速度慢。
</code></pre>

<p>参考：http://chen.yanping.me/cn/blog/2012/03/10/octopress-with-latex/</p>

<h2>处理图片</h2>

<p>设置一个IMAGE_ROOT变量，可以可以在post中设置，也可以在post的模板中通过指定的规则capture（或者assign）。</p>

<p>则引可以使用/xxx.png的形式插入图片，便于以后的调整和管理。</p>

<p>/2013/05/27/jekyll_mysite.html
page_url</p>

<h2>处理表格(TODO)</h2>

<h2>博客搬家（TODO）</h2>

<p>用Jekyll写博客的，通常不会是新博主，会存在博客搬家的需求。</p>

<p>Jekyll提供了一个import的子命令(需要插件jekyll-import），可以将旧的博客导入到Jekyll。</p>

<p><a href="https://github.com/thomasf/exitwp">exitwp</a>是一个用python开发的工具，号称是将wordpress的博客导出并转换成markdown，但实际上
任何能导出rss/atom的博客都可以用这个工具进行转换。</p>

<pre><code>git clone https://github.com/thomasf/exitwp
sudo pip install --upgrade  -r pip_requirements.txt
cd exitwp/wordpress-xml/
wget http://your/atom/file/xml
cd ..
python exitwp.py
</code></pre>

<h1>推广篇</h1>

<h2>使用域名</h2>

<p>Github Pages会为站点分配类似"USERNAME.github.com"的二级域名。你也可以使用自己的域名。</p>

<ol>
<li><p>申请域名</p>

<p>免费的域名(.tk)可以在<a href="http://www.dot.tk/zh/index.html">DotTK</a>申请。</p>

<p>.tk是南太平洋岛国托克劳的国家域名，支持域名转发（可隐藏原URL）、电邮转发、A记录解析、CNAME别名记录、MX邮件记录、设置DNS服务器等服务。</p>

<p>收费的域名到处有，是否使用国内的域名商随你。</p></li>
<li><p>域名解析服务</p>

<p>一般来说域名提供商会提供简单的解析服务，也支持将解析服务指向到其他的提供者。</p>

<p>国外的如<a href="http://www.godaddy.com/">Godaddy</a>，可能被墙。</p>

<p>国内的如<a href="https://www.dnspod.cn/">DNSPod</a>，有免费版。</p></li>
<li><p>配置</p>

<ul>
<li>在jekyll站点中增加CNAME文件，记录使用的域名</li>
<li>如果使用顶级域名，在域名解析服务提供商那里将A记录指向<a href="1">204.232.175.78</a></li>
<li>如果使用二级域名，在域名解析服务提供商那里增加CNAME记录，指向<a href="1">204.232.175.78</a></li>
</ul>
</li>
</ol>


<h2>社会化网络</h2>

<p>Jekyll生成的是静态网站，诸如评论、推荐、关注之类的功能就无法实现了。</p>

<p>不过好在现在有很多社会化网络应用，通过混搭(marshup) 可以把各种各样第三方的功能部件（widgets）加到你的博客中。</p>

<p>与博客相关的Widget主要有几类：</p>

<ol>
<li><p>社会化评论</p>

<p>专门提供评论功能的网站，可以为博客增加评论功能。也可能附带着关注、相关文章、推荐等功能。</p>

<p>国外的有<a href="http://disqus.com/">disqus</a>，国内的有<a href="http://www.uyan.cc/">友言</a>，<a href="http://duoshuo.com/">多说</a></p></li>
<li><p>社会化推荐</p>

<p>自动推荐跨站的相关文章。包括自动推相关文章。</p>

<p>国内的有<a href="http://www.ujian.cc/publishers">友荐</a>，<a href="http://www.wumii.com/widget/relatedItems.htm">无觅</a>。</p>

<p>Jekyll本身也可以实现站内文章推荐的功能。</p></li>
<li><p>社会化分享</p>

<p>将自己喜欢的网址分享给别人，通常附带推荐功能。</p>

<p>国内的有<a href="http://www.jiathis.com/">加网</a> ，<a href="http://share.baidu.com/">百度分享</a>等。其中加网提供了划词分享功能。</p></li>
<li><p>社交网站</p>

<p>可以发布简短的动态。比如Twitter, Facebook, Google Plus, 新浪微博等网站。与博客的联动可以是自己发布博客动态，
也可以是由别人推荐（这种方式即为社会化推荐）。</p>

<p>如果是自己发布动态，需要让别人能够方便的“关注/Follow”你，最好提供“一键关注的按钮”，或者提供连接能够让别人在这些网上方便的找到你。</p></li>
<li><p>社会化登录</p>

<p>没懂，感觉也就是OpenID或OAuth的集合。暂时不予考虑。</p></li>
</ol>


<p>由于存在着伟大的墙，我只好尽量选择国内的社会化网络资源。对于更喜欢的国外的资源，尽量考虑如何不拖慢墙内用户的访问速度。</p>

<p>我对社会化网络资源的利用方式如下：</p>

<ul>
<li><p>评论功能</p>

<p>只选一个，我选择了<a href="http://www.uyan.cc/">友言</a>。</p></li>
<li><p>推荐功能</p>

<p>可以有多个，那么先加上友荐和无觅，Jekyll自带的相关文章功能也在测试中。</p></li>
<li><p>分享功能</p>

<p>只选一个，还是选择<a href="http://share.baidu.com/">百度分享</a>吧，与<a href="http://tongji.baidu.com/web/welcome/login">百度统计</a>可以勾搭在一起，而且据说有利于百度的SEO。</p></li>
</ul>


<h2>流量分析和统计</h2>

<p>第三方的流量分析和统计工具可以说是最古老的marshup，尽管没有社会化网络的功能。</p>

<p>可以选择的有国外的<a href="http://www.google.cn/intl/zh-CN_ALL/analytics/">Google Analysis</a>、<a href="http://www.sitemeter.com">SiteMeter</a>和国内的<a href="http://tongji.baidu.com/web/welcome/login">百度统计</a>、
   <a href="http://linezing.com">量子恒道统计</a>等。</p>

<p>出于种种无奈，还是选择了百度。</p>

  <!--百度分享 BEGIN-->
<div class="bdsharebuttonbox" class="top_line">
  <a href="#" class="bds_more" data-cmd="more">分享到：</a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{"bdSize":16},"image":{"viewList":["tsina","qzone","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
<!--百度分享 END-->

      <!--  评论  -->
      <div class="row-fluid">
        
          <!-- UY BEGIN -->
          <div id="uyan_frame"></div>
          <script type="text/javascript" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=1784345" async="true"></script>
          <!-- UY END -->
        
      </div>
      <!--  评论  END -->





</article>

 <!--上一篇，下一篇-->
      <div class="row-fluid">
      
        <div class="span6">
          <a href="/2013/05/27/nginx_keepalived.html" rel="bookmark">&laquo;&nbsp;下一篇：用nginX+keepalived实现高可用的负载均衡</a>
        </div>
      

      
        <div class="span6">
        <a class="pull-right" href="/2013/05/23/vim_addon_manager.html" rel="bookmark">上一篇：重拾vim&nbsp;&raquo;</a>
        </div>
      
      </div>
      <!--上一篇，下一篇 END-->


<!--wumii block-->
          <script type="text/javascript" id="wumiiRelatedItems"></script>


          <!--for wumii ， can be moved to footer-->
         <script type="text/javascript">
            var wumiiPermaLink = "http://thinkinside.tk/2013/05/27/jekyll_mysite.html"; //请用代码生成文章永久的链接
            var wumiiTitle = "Jekyll建站过程"; //请用代码生成文章标题
            var wumiiTags = "心内求法,jekyll,github"; //请用代码生成文章标签，以英文逗号分隔，如："标签1,标签2"
            var wumiiCategories = ["杂七杂八"]; //请用代码生成文章分类，分类名放在 JSONArray 中，如: ["分类1", "分类2"]
            var wumiiSitePrefix = "http://www.thinkinside.tk/";
            var wumiiParams = "&num=5&mode=3&pf=JAVASCRIPT";
        </script>
        <script type="text/javascript" src="http://widget.wumii.cn/ext/relatedItemsWidget" async="true"></script>
        <a href="http://www.wumii.com/widget/relatedItems" style="border:0;">
            <img src="http://static.wumii.cn/images/pixel.png" alt="无觅相关文章插件，快速提升流量" style="border:0;padding:0;margin:0;" />
        </a>
        <!--end of wumii-->


    </div>
    
    <footer>
       <div class="row">
      <div class="col span_7">
        <p><h4 class="footer-title">心内求法</h4>
        制心一境，住心观性，澄心外照，摄心内证</p>
        
        <p>&copy; Copyright 2014  <a herf='mailto:wanghaikuo@gmail.com'>Holbrook Wong</a>. 
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank">署名-非商业性使用-相同方式共享</a> 
        </p>
        

        <a rel="license nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank"><img alt="知识共享许可协议" style="border-width:0" src="/public/images/footer_cc.png" /></a>

        <a rel="nofollow" href="http://www.alexa.com/siteinfo/thinkinside.tk" target="_blank" class="AlexaSiteStatsWidget"></a>

        <!-- Site Meter -->
        <script type="text/javascript" src="http://s51.sitemeter.com/js/counter.js?site=s51thinkinside" async="true">
        </script>
        <noscript>
        <a href="http://s51.sitemeter.com/stats.asp?site=s51thinkinside" target="_top">
        <img src="http://s51.sitemeter.com/meter.asp?site=s51thinkinside" alt="Site Meter" border="0"/></a>
        </noscript>
      </div> <!-- /span8 -->

      <div class="col span_5">
          <h3>关于</h3>
          <iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=75&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1878878250&verifier=b193b9de&dpc=1"></iframe>
          
          <h5>我以前的博客</h5>
          <a href="http://www.cnblogs.com/holbrook/" target="_blank">@博客园</a>(2012.2--2013.5)<br/>
          <a href="http://blog.csdn.net/thinkinside/" target="_blank">@CSDN</a>(2007.7--2012.2)<br/>
          <a href="http://www.blogjava.net/wanghaikuo" target="_blank">@blogjava</a>(2006.10--2007.7)
        </div>
      </div>
    </div>
 
    </footer>

    <!-- scripts -->
    <!--百度统计-->
    <script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fb942c9f7549938d471dbef766d4b4792' type='text/javascript'%3E%3C/script%3E"));
    </script>
    
    <script src="/public/js/jquery-1.10.2.min.js"></script>
    <script src="/public/js/jquery.fitvids.min.js"></script>
    <script>
      $(document).ready(function(){
        $("article").fitVids();
      });
    </script>
  </body>
</html>
